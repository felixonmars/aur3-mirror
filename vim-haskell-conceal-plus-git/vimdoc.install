post_install() {
    echo -n "Updating vim help tags..."
    /usr/bin/vim --noplugins -u NONE -U NONE \
        --cmd ":helptags /usr/share/vim/vimfiles/doc" --cmd ":q" > /dev/null 2>&1
    echo "done."
    printf "$concealplus\n"
}

post_upgrade() {
  post_install $1
}

post_remove() {
    echo -n "Updating vim help tags..."
    /usr/bin/vim --noplugins -u NONE -U NONE \
        --cmd ":helptags /usr/share/vim/vimfiles/doc" --cmd ":q" > /dev/null 2>&1
    echo "done."
}

read -d '' concealplus <<'EOF'
vim-haskell-conceal+
====================

Available Options

These flags can be specified via hscoptions variable. For example:

    let hscoptions="fc"

'q' option to disable concealing of scientific constants (e.g. Ï€).
'A' option to not try to preserve indentation.
's' option to disable space consumption after âˆ‘,âˆ,âˆš and Â¬ functions.
'*' option to enable concealing of asterisk with 'â‹…' sign.
'x' option to disable default concealing of asterisk with 'Ã—' sign.
'E' option to enable ellipsis concealing with â€¥  (two dot leader).
'e' option to disable ellipsis concealing with â€¦ (ellipsis sign).
'r' option to disable return (Î·) and join (Âµ) concealing.
'b' option to disable bind (left and right) concealing
'f' option to enable formal (â˜…) right bind concealing
'c' option to enable encircled b/d (â“‘/â““) for right and left binds.
'h' option to enable partial concealing of binds (e.g. Â»=).
'C' option to enable encircled 'm' letter â“œ concealing for fmap.
'l' option to disable fmap/lift concealing with â†¥.
'w' option to disable 'where' concealing with "due to"/âˆµ symbol.
'-' option to disable subtract/(-) concealing with âŠŸ.
'I' option to enable alternative ':+' concealing with with â¨¢.
'i' option to disable default concealing of ':+' with â…ˆ.
'R' option to disable realPart/imagPart concealing with â„œ/â„‘.
'T' option to enable True/False constants concealing with bold ð“/ð….
't' option to disable True/False constants concealing with italic ð‘‡/ð¹.
'B' option to disable Bool type to ð”¹ concealing
'Q' option to disable Rational type to â„š concealing.
'Z' option to disable Integer type to â„¤ concealing.
'1' option to disable numeric superscripts concealing, e.g. xÂ².
'a' option to disable alphabet superscripts concealing, e.g. xâ¿.
EOF

op=$1
shift

$op $*
