pkgname=compiz-plugins-main-dev
pkgver=0.9.5.0
pkgrel=1
pkgdesc="Plugins for Compiz 0.9.x"
url="http://www.compiz.org/"
license=('GPL' 'LGPL' 'MIT')
arch=('i686' 'x86_64')
provides=('compiz-plugins-main')
conflicts=('compiz-plugins-main')
depends=('compiz-core-dev')
makedepends=('intltool' 'cmake')
source=("http://releases.compiz.org/$pkgver/compiz-plugins-main-${pkgver}.tar.bz2")
sha1sums=('6439ff650d7edf60571a33efef3be6ef8c14dd70')

build()
{
	cd "compiz-plugins-main-${pkgver}"
	[[ -d build ]] || mkdir build
	cd build
	env PKG_CONFIG_PATH="/usr/lib/pkgconfig:$PKG_CONFIG_PATH" \
		cmake .. -DCMAKE_BUILD_TYPE="Release" -DCMAKE_INSTALL_PREFIX=/usr \
                        -DCOMPIZ_PLUGIN_INSTALL_TYPE="compiz"                     \
			-DCOMPIZ_DISABLE_PLUGIN_COLORFILTER=Off                   \
			-DCOMPIZ_DISABLE_PLUGIN_WORKAROUNDS=Off                   \
			-DCOMPIZ_DISABLE_PLUGIN_TEXT=Off                          \
			-DCOMPIZ_DISABLE_PLUGIN_SCALEADDON=Off                    \
			-DCOMPIZ_DISABLE_PLUGIN_MOUSEPOLL=Off                     \
			-DCOMPIZ_DISABLE_PLUGIN_MAG=Off                           \
			-DCOMPIZ_DISABLE_PLUGIN_TITLEINFO=Off                     \
			-DCOMPIZ_DISABLE_PLUGIN_SHIFT=Off                         \
			-DCOMPIZ_DISABLE_PLUGIN_SESSION=Off                       \
			-DCOMPIZ_DISABLE_PLUGIN_ANIMATION=Off                     \
			-DCOMPIZ_DISABLE_PLUGIN_EXPO=Off                          \
			-DCOMPIZ_DISABLE_PLUGIN_SNAP=Off                          \
			-DCOMPIZ_DISABLE_PLUGIN_RING=Off                          \
			-DCOMPIZ_DISABLE_PLUGIN_PUT=Off                           \
			-DCOMPIZ_DISABLE_PLUGIN_WALL=Off                          \
			-DCOMPIZ_DISABLE_PLUGIN_IMGJPEG=Off                       \
			-DCOMPIZ_DISABLE_PLUGIN_STATICSWITCHER=Off                \
			-DCOMPIZ_DISABLE_PLUGIN_VPSWITCH=Off                      \
			-DCOMPIZ_DISABLE_PLUGIN_RESIZEINFO=Off                    \
			-DCOMPIZ_DISABLE_PLUGIN_WINRULES=Off                      \
			-DCOMPIZ_DISABLE_PLUGIN_OPACIFY=Off                       \
			-DCOMPIZ_DISABLE_PLUGIN_KDECOMPAT=Off                     \
			-DCOMPIZ_DISABLE_PLUGIN_NEG=Off                           \
			-DCOMPIZ_DISABLE_PLUGIN_THUMBNAIL=Off                     \
			-DCOMPIZ_DISABLE_PLUGIN_EZOOM=Off                         \
			-DCOMPIZ_DISABLE_PLUGIN_GRID=Off
	make
	make DESTDIR="${pkgdir}" install
}
