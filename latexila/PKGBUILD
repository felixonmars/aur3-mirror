# Maintainer: Bernd Pr√ºnster <bernd.pruenster@gmail.com>
pkgname=latexila
provides=('latexila')
conflicts=('latexila-beta')
pkgver=2.2.0
pkgrel=4
install=latexila.install
pkgdesc="LaTeXila, a LaTeX editor designed for the GNOME desktop"
arch=('i686' 'x86_64')
url="http://latexila.sourceforge.net"
license=("GPL")
depends=('libgee' 'libunique' 'latexmk' 'hicolor-icon-theme' 'gtksourceview2' 'dconf')
makedepends=('cmake' 'itstool')
optdepends=('gsettings-desktop-schemas')
source=("http://ftp.gnome.org/pub/GNOME/sources/latexila/2.2/latexila-${pkgver}.tar.xz")
sha256sums=('9eaefdc1c97e948baf739dce76ae1f4adec910bbe3e34ea9fbe4e6e09cc2538d')

build() {
        cd ${srcdir}/${pkgname}-${pkgver}/build

        cmake -DCMAKE_INSTALL_PREFIX=/usr ../ || return 1
        make  || return 1
        make DESTDIR="${pkgdir}/" install || return 1

    mkdir -p "$pkgdir"/usr/share/{applications,pixmaps}
    install -Dm644 ../data/images/app/icon48.png \
            "$pkgdir"/usr/share/pixmaps/$pkgname.png || return 1
    install -m644 ../data/$pkgname.desktop \
            "$pkgdir"/usr/share/applications/ || return 1
}
