# Contributor: Jussi Timperi <gmail.com: jussi.timperi>
# Maintainer:  Jesse Jaara   <gmail.com: jesse.jaara>

pkgname=voikko-libreoffice
pkgver=3.2
pkgrel=2
pkgdesc="Finnish spellchecker, grammar checker and hyphenator extension for libreoffice"
arch=('i686' 'x86_64')
url="http://voikko.sourceforge.net"
license=('GPL3')
depends=('libvoikko' 'libreoffice')
makedepends=('zip' 'libreoffice-sdk')
install=voikko-libreoffice.install
source=("http://downloads.sourceforge.net/voikko/libreoffice-voikko-${pkgver}.tar.gz"
	setsdkenv_unix.sh.in)

build() {
  cd "${srcdir}/libreoffice-voikko-${pkgver}"

  sed 's|LINK_LIBS += $(STLPORTLIB)||g' -i Makefile
  . ../setsdkenv_unix.sh.in
  make oxt
}

package() {
  cd "${srcdir}/libreoffice-voikko-${pkgver}/build" 
  mkdir -p "${pkgdir}/usr/lib/libreoffice/share/extensions/install"
  cp voikko.oxt "${pkgdir}/usr/lib/libreoffice/share/extensions/install/"
}

# vim:set ts=2 sw=2 et:
md5sums=('cd432ee55b424c38d841876db757098f'
         '08868f57bbbdb1de33bc75f038d62ae2')
