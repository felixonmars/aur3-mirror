# Maintainer: Bartek Piotrowski <barthalion@gmail.com>
# Contributor: Arkham <arkham at archlinux dot us> 
# Contributor: Artyom Smirnov <smirnoffjr@gmail.com>

pkgname=flush
pkgver=0.9.11
pkgrel=1
pkgdesc="GTK+ based BitTorrent client"
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/flush/"
license=('GPL')
depends=('libconfig' 'libtorrent-rasterbar' 'libglademm' 'libnotify' 'dbus-core')
makedepends=('boost')
install=${pkgname}.install
source=(http://downloads.sourceforge.net/${pkgname}/${pkgname}-${pkgver}.tar.bz2)

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"

   # No idea what is it, but compiling works fine without. Curiosity never killed the cat, so ask previous maintaner. 
   # export LDFLAGS="${LDFLAGS//-Wl,--as-needed}"
    export CXXFLAGS="${CXXFLAGS} -DBOOST_FILESYSTEM_VERSION=2"
    ./configure --prefix=/usr
    make
}

package() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    make DESTDIR="${pkgdir}/" install
}

md5sums=('d5d3f9795ed4c4486c61c91c530de514')
