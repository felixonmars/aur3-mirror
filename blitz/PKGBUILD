# Contributor: Gleidson <gleidson_el@yahoo.com.br>
# Maintainer: Garns <henning.garus@gmail.com>

pkgname=blitz
pkgver=0.9
pkgrel=3
pkgdesc="C++ Class library for scientific computing"
arch=('i686' 'x86_64')
url="http://www.oonumerics.org/blitz/"
license=('GPL''custom')
depends=('gcc')
options=('!docs' '!libtool')
source=(http://downloads.sourceforge.net/sourceforge/blitz/blitz-$pkgver.tar.gz
 'header.patch')
md5sums=('031df2816c73e2d3bd6d667bbac19eca'
         'd2a443f1afab6c1d644299ef4bd7a0a0')

build() {
  cd $srcdir
  patch -p1 < header.patch
  cd $srcdir/blitz-$pkgver

  # Install license
  install -D -m644 LICENSE $startdir/pkg/usr/share/licenses/$pkgname/LICENSE
  
  ./configure CXX=g++ --prefix=/usr --enable-shared --enable-64bit || return 1
  make DESTDIR=$startdir/pkg install || return 1
  rm -rf $pkgdir/usr/lib/pkgconfig
}
