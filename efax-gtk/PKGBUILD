# Maintainer: Roberto Viola <cagnulein@tin.it>

pkgname=efax-gtk
pkgver=3.2.6
pkgrel=1
pkgdesc="GTK+2 frontend for the efax program"
url="http://efax-gtk.sourceforge.net"
license=('GPL')
arch=('i686' 'x86_64')
depends=('dbus-glib' 'gtk2' 'ghostscript')
makedepends=('pkgconfig')
optdepends=('mailx-heirloom: to use the mail_fax script')
backup=('etc/efax-gtkrc')
install=efax-gtk.install
source=(http://downloads.sourceforge.net/sourceforge/efax-gtk/${pkgname}-${pkgver}.src.tgz
        stock_send-fax.png)
md5sums=('83bfc4bcc48b2b760ec5a7fbe5d10d8d'
         'a5326dfce4e0ac4054e2b2a6aae460ac')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  ./configure --prefix=/usr \
              --sysconfdir=/etc \
              --with-spooldir=/var/spool/fax || return 1
  make || return 1
  make DESTDIR="${pkgdir}" install || return 1
  install -m755 mail_fax print_fax "${pkgdir}/usr/bin" || return 1
  install -Dm755 ${srcdir}/stock_send-fax.png \
                "${pkgdir}/usr/share/pixmaps/stock_send-fax.png" || return 1
}
