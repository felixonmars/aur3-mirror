# Maintainer: Limao Luo <luolimao@gmail.com>

pkgname=radical-comic-designer
pkgver=3.0.1
pkgrel=5
pkgdesc="Radical Comic Designer: A graphical comic designer"
url="http://lunduke.com/?page_id=3012"
arch=('i686' 'x86_64')
license=('custom:GLL')
depends=('gtk2' 'desktop-file-utils')
provides=('RadicalComicDesigner')
if test "$CARCH" == x86_64; then
    depends+=('lib32-gtk2')
    optdepends+=(
	'lib32-libcanberra: To get rid of an annoying error'
	'lib32-gtk-engines: Needed to get a decent look & feel')
fi
install="radical.install"
source=(
    'http://www.lunduke.com/rcd/RadicalComicDesigner.tar.gz'
    'LICENSE'
    'radical.desktop')
sha256sums=(
    'c1499fba5bb6a7fd0444131074a4f16bf923d355efd7404a327f249251f0676b'
    '870a9a45df91e2cb5017e8d6d29467e859809105b6830e7124fe97637b07d973'
    '04c8914638cc7b905cd772f701cee65b40074ba93874cfc6fc111d2b9d3f0904')
sha512sums=(
    '9dd70bb075c3fe70f9b2a9fae478d7b480cf3d6b21aa4cb2f91d7785ddfb3db5312e2a35affd400e8f2ddc28b517f177235f1085a8385aefffd9f7bdfe953b3f'
    '69bfd303f6e152da51fd87ab5d20e989332b919206311fc4b88c85ecd5aa96bad3287bdc3dfbc3ad72401560133d0b2877be4fb67a09cce03f8c1f5ba2db6d5b'
    '1e8f97c384d378e91b695cf17460784329123bda38df05eaeda93bd11315d327c6cee54596edc6635d3d5691802b60f3f175017becbaa97520f2c080efa3853d')

build() {
    cd $srcdir
    mkdir opt/
    install -Dm644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
    mv RadicalComicDesigner/ opt/$pkgname/
    install -Dm644 opt/radical-comic-designer/RCDIcon256.png $pkgdir/usr/share/pixmaps/radical.png; rm opt/radical-comic-designer/RCDIcon256.png
    mv opt/ $pkgdir/.
    desktop-file-install radical.desktop --dir="${pkgdir}/usr/share/applications/"
}

package() {
    install -dD $pkgdir/opt/* /opt/.
}
