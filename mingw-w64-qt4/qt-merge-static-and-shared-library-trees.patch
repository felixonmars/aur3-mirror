--- include/Qt/qconfig.h.orig	2013-10-14 18:24:39.000000000 -0600
+++ include/Qt/qconfig.h	2013-10-15 09:54:15.447325803 -0600
@@ -32,6 +32,14 @@
 # define QT_CODEC_PLUGINS
 #endif
 
+#if defined(QT_NODLL)
+#if defined(QT_BUILTIN_GIF_READER) && defined(QT_NO_BUILTIN_GIF_READER)
+# undef QT_BUILTIN_GIF_READER
+#elif !defined(QT_BUILTIN_GIF_READER) && !defined(QT_NO_BUILTIN_GIF_READER)
+# define QT_BUILTIN_GIF_READER 1
+#endif
+#endif
+
 #if defined(QT_NO_ALSA) && defined(QT_ALSA)
 # undef QT_NO_ALSA
 #elif !defined(QT_NO_ALSA) && !defined(QT_ALSA)
@@ -80,6 +88,7 @@
 # define QT_NO_ICD
 #endif
 
+#if !defined(QT_NODLL)
 #if defined(QT_NO_IMAGEFORMAT_JPEG) && defined(QT_IMAGEFORMAT_JPEG)
 # undef QT_NO_IMAGEFORMAT_JPEG
 #elif !defined(QT_NO_IMAGEFORMAT_JPEG) && !defined(QT_IMAGEFORMAT_JPEG)
@@ -97,6 +106,7 @@
 #elif !defined(QT_NO_IMAGEFORMAT_TIFF) && !defined(QT_IMAGEFORMAT_TIFF)
 # define QT_NO_IMAGEFORMAT_TIFF
 #endif
+#endif
 
 #if defined(QT_NO_INOTIFY) && defined(QT_INOTIFY)
 # undef QT_NO_INOTIFY
@@ -164,6 +174,14 @@
 # define QT_NO_SXE
 #endif
 
+#if defined(QT_NODLL)
+#if defined(QT_NO_WEBKIT) && defined(QT_WEBKIT)
+# undef QT_NO_WEBKIT
+#elif !defined(QT_NO_WEBKIT) && !defined(QT_WEBKIT)
+# define QT_NO_WEBKIT
+#endif
+#endif
+
 #if defined(QT_NO_ZLIB) && defined(QT_ZLIB)
 # undef QT_NO_ZLIB
 #elif !defined(QT_NO_ZLIB) && !defined(QT_ZLIB)
--- include/QtCore/qconfig.h.orig	2013-10-14 18:24:39.000000000 -0600
+++ include/QtCore/qconfig.h	2013-10-15 09:54:15.447325803 -0600
@@ -32,6 +32,14 @@
 # define QT_CODEC_PLUGINS
 #endif
 
+#if defined(QT_NODLL)
+#if defined(QT_BUILTIN_GIF_READER) && defined(QT_NO_BUILTIN_GIF_READER)
+# undef QT_BUILTIN_GIF_READER
+#elif !defined(QT_BUILTIN_GIF_READER) && !defined(QT_NO_BUILTIN_GIF_READER)
+# define QT_BUILTIN_GIF_READER 1
+#endif
+#endif
+
 #if defined(QT_NO_ALSA) && defined(QT_ALSA)
 # undef QT_NO_ALSA
 #elif !defined(QT_NO_ALSA) && !defined(QT_ALSA)
@@ -80,6 +88,7 @@
 # define QT_NO_ICD
 #endif
 
+#if !defined(QT_NODLL)
 #if defined(QT_NO_IMAGEFORMAT_JPEG) && defined(QT_IMAGEFORMAT_JPEG)
 # undef QT_NO_IMAGEFORMAT_JPEG
 #elif !defined(QT_NO_IMAGEFORMAT_JPEG) && !defined(QT_IMAGEFORMAT_JPEG)
@@ -97,6 +106,7 @@
 #elif !defined(QT_NO_IMAGEFORMAT_TIFF) && !defined(QT_IMAGEFORMAT_TIFF)
 # define QT_NO_IMAGEFORMAT_TIFF
 #endif
+#endif
 
 #if defined(QT_NO_INOTIFY) && defined(QT_INOTIFY)
 # undef QT_NO_INOTIFY
@@ -164,6 +174,14 @@
 # define QT_NO_SXE
 #endif
 
+#if defined(QT_NODLL)
+#if defined(QT_NO_WEBKIT) && defined(QT_WEBKIT)
+# undef QT_NO_WEBKIT
+#elif !defined(QT_NO_WEBKIT) && !defined(QT_WEBKIT)
+# define QT_NO_WEBKIT
+#endif
+#endif
+
 #if defined(QT_NO_ZLIB) && defined(QT_ZLIB)
 # undef QT_NO_ZLIB
 #elif !defined(QT_NO_ZLIB) && !defined(QT_ZLIB)
--- share/qt4/mkspecs/features/qt_functions.prf.orig	2013-10-14 22:26:30.000000000 -0600
+++ share/qt4/mkspecs/features/qt_functions.prf	2013-10-15 09:54:15.447325803 -0600
@@ -71,7 +71,7 @@
         export(TARGET.CAPABILITY)
     }
     isEmpty(LINKAGE) {
-       if(!debug_and_release|build_pass):CONFIG(debug, debug|release) {
+       if(!debug_and_release|build_pass):!static:CONFIG(debug, debug|release) {
            win32:LINKAGE = -l$${LIB_NAME}d$${QT_LIBINFIX}
            mac:LINKAGE = -l$${LIB_NAME}$${QT_LIBINFIX}_debug
        }
@@ -83,6 +83,17 @@
         QMAKE_LFLAGS *= --lsb-shared-libs=$${LIB_NAME}$${QT_LIBINFIX}
     }
     LIBS += $$LINKAGE
+    win32:CONFIG(static) {
+        isEqual(LIB_NAME, QtCore) {
+            LIBS += $$QMAKE_LIBS_CORE
+        } else:isEqual(LIB_NAME, QtGui) {
+            LIBS += $$QMAKE_LIBS_GUI
+        } else:isEqual(LIB_NAME, QtNetwork) {
+            LIBS += $$QMAKE_LIBS_NETWORK
+        } else:isEqual(LIB_NAME, QtOpenGL) {
+            LIBS += $$QMAKE_LIBS_OPENGL
+        }
+    }
     export(LIBS)
     export(INCLUDEPATH)
     export(QMAKE_FRAMEWORKPATH)
--- share/qt4/mkspecs/features/win32/default_post.prf.orig	2013-06-06 23:17:00.000000000 -0600
+++ share/qt4/mkspecs/features/win32/default_post.prf	2013-10-15 09:54:15.447325803 -0600
@@ -6,6 +6,10 @@
     }
 }
 
+contains(CONFIG, static) {
+    QMAKE_LFLAGS += -static
+}
+
 # Now load the global default_post
 load(default_post)
 
--- share/qt4/mkspecs/qconfig.pri.orig	2013-10-14 18:24:39.000000000 -0600
+++ share/qt4/mkspecs/qconfig.pri	2013-10-15 09:54:15.447325803 -0600
@@ -2,7 +2,11 @@
 CONFIG +=  cross_compile shared def_files_disabled exceptions rtti no_mocdepend release stl qt_no_framework
 QT_ARCH = windows
 QT_EDITION = OpenSource
-QT_CONFIG +=  minimal-config small-config medium-config large-config full-config qt3support accessibility opengl shared ipv6 clock-gettime clock-monotonic getaddrinfo system-jpeg system-png png system-tiff no-freetype system-zlib iconv dbus dbus-linked openssl concurrent xmlpatterns multimedia audio-backend svg script scripttools declarative release
+contains(CONFIG, static) {
+   QT_CONFIG +=  minimal-config small-config medium-config large-config full-config qt3support accessibility opengl static ipv6 clock-gettime clock-monotonic getaddrinfo system-jpeg jpeg mng system-png png gif system-tiff tiff no-freetype system-zlib iconv dbus dbus-linked openssl concurrent xmlpatterns multimedia audio-backend svg script scripttools declarative release
+} else {
+   QT_CONFIG +=  minimal-config small-config medium-config large-config full-config qt3support accessibility opengl shared ipv6 clock-gettime clock-monotonic getaddrinfo system-jpeg system-png png system-tiff no-freetype system-zlib iconv dbus dbus-linked openssl concurrent xmlpatterns multimedia audio-backend svg script scripttools declarative release
+}
 
 #versioning
 QT_VERSION = 4.8.6
