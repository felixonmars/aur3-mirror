# Contributor: jose <jose1711 [at] gmail (dot) com>
# Maintainer:  Mario De Weerd <bt747@bt747.org>
pkgname=bt747_dev
pkgver=2.X.1955
pkgrel=1
pkgdesc="datalogger device control for mtk-chipset based loggers"
arch=('i686' 'x86_64')
url="http://www.bt747.org/"
license=("GPL-3")
depends=('java-runtime')
install=bt747.install
options=('!strip')
source=("http://downloads.sourceforge.net/project/bt747/Development/BT747_2.X.1955_full.zip" "http://soft.bt747.org/icon/BT747_icon48x48x8.gif" "bt747.desktop")
md5sums=('5dda82b218f197d07248aae883fb5480'
		 'ad4f7947ba2f9471a9e24f299d80a6a4'
         '9bcc29d20ca24b85ae074573e5bd774c')
build() {
echo
}

package() {
mkdir -p $pkgdir/usr/{share/java/bt747,bin}
cd $srcdir
/bin/sed -i '/ROOT_DIR=/s%.*%ROOT_DIR=/usr/share/java/bt747%' run_j2se.sh
/bin/tar cf - --exclude=*.exe --exclude=*.bat --exclude=src* * | ( cd ../pkg/usr/share/java/bt747/; tar xfp - )
ln -s /usr/share/java/bt747/run_j2se.sh ${pkgdir}/usr/bin/bt747
install -D -m644 $srcdir/bt747.desktop $pkgdir/usr/share/applications/bt747.desktop
}
