# Maintainer: Moritz Lipp <mlq@pwmt.org>
pkgname=pycarddav
pkgver=0.4
pkgrel=1
pkgdesc="pyCardDAV is a simple to use CardDAV CLI client"
arch=any
url="http://lostpackets.de/pycarddav/"
license=('Expat/MIT')
depends=('python2' 'python2-vobject' 'python2-requests' 'python2-lxml' 'python2-urwid')
makedepends=('python-docutils')
source=("http://lostpackets.de/pycarddav/downloads/$pkgname-$pkgver.tar.gz")
md5sums=('29a900555a0cb737af50c94f9ed050e3')

build()  {
  cd "${srcdir}/$pkgname-$pkgver"

  python2 setup.py install --prefix=/usr --root="$pkgdir" || return 1

  # create man page
  rst2man README.rst ${pkgname}.1

  install -Dm644 ${pkgname}.1 $pkgdir/usr/share/man/man1/$pkgname.1
  install -Dm644 pycard.conf.sample $pkgdir/usr/share/doc/$pkgname/pycard.conf.sample
  install -D -m664 COPYING $pkgdir/usr/share/licenses/$pkgname/LICENSE
}
