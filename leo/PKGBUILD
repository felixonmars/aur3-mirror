# Maintainer: David Scholl <djscholl at gmail dot com>
pkgname=leo
pkgver=4.8
pkgrel=3
pkgdesc="Literate programmer's editor, outliner, and project manager"
arch=('any')
url="http://webpages.charter.net/edreamleo/front.html"
license=('custom')
depends=('python2' 'tk' 'python2-pyqt')
makedepends=('unzip')
backup=('opt/leo/leo/config/leoSettings.leo')
install="leo.install"
source=(http://downloads.sourceforge.net/sourceforge/$pkgname/Leo-$pkgver-final.zip)
md5sums=('1d34a15d5e2bd3d3c4f89b23c4d09fca')

build() {
  install -d $pkgdir/opt/$pkgname
  cd $srcdir/Leo-$pkgver-final || return 1
  sed 's/python/python2/' -i launchLeo.py || return 1
  cp -R * $pkgdir/opt/$pkgname || return 1
  install -D LICENSE.TXT $pkgdir/usr/share/licenses/$pkgname/LICENSE.TXT
  install leo/extensions/Pmw/Pmw_1_3/doc/copyright.html $pkgdir/usr/share/licenses/$pkgname
  install leo/extensions/Gato/LGPL.txt $pkgdir/usr/share/licenses/$pkgname/
  install -d $pkgdir/usr/bin
  cd $pkgdir/usr/bin || return 1
  ln -s ../../opt/leo/launchLeo.py leo || return 1
}
