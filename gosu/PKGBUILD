# Contributor: Paolo Giangrandi <peoro.noob@gmail.com>
# Maintainer: Henning Bekel <h dot bekel at googlemail dot com>

pkgname=gosu
pkgver=0.7.27.1
pkgrel=1
pkgdesc="2D game development library for the C++ programming language."
arch=('i686' 'x86_64')
url="http://code.google.com/p/gosu/"
license="MIT"
depends=('sdl_ttf' 'sdl_mixer' 'pango' 'libgl')
makedepends=('swig' 'boost')
source=("http://gosu.googlecode.com/files/gosu-linux-$pkgver.tar.gz")
md5sums=('c38588d557c1c27fe053a7aba21cd8ac')

build() {

  cd "${srcdir}/${pkgname}/linux"
  ./configure --prefix=/usr
  # make (sometimes?) fails on first run (don't ask me why)
  make || make 

}

package () {
  install -D -m644 $srcdir/$pkgname/lib/libgosu.so $pkgdir/usr/lib/libgosu.a
  install -D -m755 $srcdir/$pkgname/lib/libgosu.so $pkgdir/usr/lib/libgosu.so
  install -D -m755 $srcdir/$pkgname/bin/gosu-config $pkgdir/usr/bin/gosu-config

  install -d $pkgdir/usr/include/Gosu
  install -D -m644 $srcdir/$pkgname/Gosu/*.hpp $pkgdir/usr/include/Gosu

  install -D -m 644 $srcdir/$pkgname/COPYING.txt $pkgdir/usr/share/licenses/$pkgname/COPYING
}
