# Contributor: Piotr Rogo≈ºa <rogoza dot piotr at gmail dot com>
pkgname=vim-perl-support
pkgver=4.12
_scriptid=15962
pkgrel=1
pkgdesc='Perl-IDE offers easiest way to do all of the above, saving lot of time and keystrokes.'
arch=('any')
url='http://vim.org/scripts/script.php?script_id=556'
license=('custom:vim')
groups=('vim-plugins')
depends=('vim-runtime' 'perl')
optdepends=("perl-tags: to generate Ctags style tags for Perl sourcecode" 
  "perl-devel-smallprof: to run per-line Perl profiler")
install='vimdoc.install'
source=("${pkgname}.zip::http://www.vim.org/scripts/download_script.php?src_id=$_scriptid")

build() {
	cd "$srcdir"

	_vim_dir="usr/share/vim/vimfiles"

  install -dm755 ${pkgdir}/${_vim_dir} || return 1

  tar -c ./  --exclude ${pkgname}.zip | tar -x -C ${pkgdir}/${_vim_dir} || return 1

	mv ${pkgdir}/${_vim_dir}/README.perlsupport \
		"${pkgdir}/${_vim_dir}/perl-support/doc/README.perlsupport" || return 1

}

# vim:set ts=2 sw=2 et ft=sh tw=100:
md5sums=('9e439724cae69e13f4ab05b97237ae62')
