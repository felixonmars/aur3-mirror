# Maintainer: Jekyll Wu <adaptee [at] gmail [dot] com>

pkgname=grub2-editor
_pkgname=kcm-grub2
pkgver=0.5.0
pkgrel=1
pkgdesc="A KDE4 control module for configuring the GRUB2 bootloader."
arch=(i686 x86_64)
url="http://kde-apps.org/content/show.php?content=139643"
license=(GPLv3)
depends=('kdebase-workspace' 'hwinfo' 'imagemagick' 'libwmf' )
makedepends=('cmake' 'automoc4')
source=("http://prdownloads.sourceforge.net/project/${_pkgname}/${pkgver}/${_pkgname}-${pkgver}.tar.gz")
md5sums=('0df02a345f24351d13f1471e08bc25f1')

build(){
  cd ${srcdir}/${_pkgname}-${pkgver}

  if [ -d build ] ; then
      rm build -rf
  fi

  mkdir build && cd build

  cmake -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_BUILD_TYPE=Release  \
        ..
  make
}

package(){
  cd ${srcdir}/${_pkgname}-${pkgver}/build
  make DESTDIR="${pkgdir}" install
}
