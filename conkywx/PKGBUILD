# Contributer: Paramvir Likhari <plikhari at gmail dot com>
# Maintainer: Paramvir Likhari <plikhari at gmail dot com>

pkgname=conkywx
pkgver=0.6.8
pkgrel=1
pkgdesc="To display wunderground weather information using conky"
arch=('any')
url='https://sites.google.com/site/foreverquest1/conkywx'
license=('GPL3')
depends=('conky' 'wget')
backup=('etc/conkywx/conkywx.conf')
source=("https://sites.google.com/site/foreverquest1/${pkgname}/${pkgname}_${pkgver}.tar.xz")
md5sums=('2a2f899cdc42561dc630ad05cd1cdb75')
_conkyvar="usr/share/conkywx"

build()
{
  cd "${srcdir}/${pkgname}"
	
  # install script
  install -D -m755 conkywx "${pkgdir}/usr/bin/conkywx"
  
  mkdir -p ${pkgdir}/${_conkyvar}
  mkdir -p ${pkgdir}/${_conkyvar}/examples
  mkdir -p ${pkgdir}/${_conkyvar}/images/moonicons
  mkdir -p ${pkgdir}/${_conkyvar}/images/wxicons

  install -D -m755 conkywx.sh "${pkgdir}/${_conkyvar}/"
  install -D -m644 changelog "${pkgdir}/${_conkyvar}/"
  install -D -m644 examples/* "${pkgdir}/${_conkyvar}/examples/"
  install -D -m644 images/moonicons/* "${pkgdir}/${_conkyvar}/images/moonicons/"
  install -D -m644 images/wxicons/* "${pkgdir}/${_conkyvar}/images/wxicons/"

  # install config file
  mkdir -p ${pkgdir}/etc/conkywx
  install -D -m644 examples/conkywx.conf "${pkgdir}/etc/conkywx/"
  
  # Install fonts
  mkdir -p ${pkgdir}/usr/share/fonts/TTF/conkywx
  install -D -m644 fonts/* "${pkgdir}/usr/share/fonts/TTF/conkywx/"

  # install man page
  gzip -c -9 conkywx.1 > conkywx.1.gz
  install -D -m644 conkywx.1.gz "${pkgdir}/usr/share/man/man1/conkywx.1.gz"

  
}



