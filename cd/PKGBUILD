# Contributor: maoserr
# Maintainer: markelos

pkgname=cd
pkgver=5.4.1
pkgrel=1
pkgdesc="C platform-independent graphics library."
arch=('i686' 'x86_64')
url="http://www.tecgraf.puc-rio.br/cd/"
license=('MIT' 'custom')
depends=('libxft' 'libxmu' 'freetype2')
optdepends=('lua: bindings for Lua are available'
            'iup: cross platform GUI toolkit'
            'im: for advanced imaging support'
            'mesa: for OpenGL support')
provides=('cd')
conflicts=('cd')
source=("http://downloads.sourceforge.net/project/canvasdraw/${pkgver}/Linux%20Libraries/cd-${pkgver}_Linux26_lib.tar.gz" "LICENSE")

[ "$CARCH" == "x86_64" ] && source=("http://downloads.sourceforge.net/project/canvasdraw/${pkgver}/Linux%20Libraries/cd-${pkgver}_Linux26_64_lib.tar.gz" "LICENSE") && md5sums=('fd2a5c03138a35a3485032fa82517426' 'e73a2a7e8f737f4d0801bd368e2e1121')
	
[ "$CARCH" == "i686" ] && md5sums=('98e93ea2fdcc6cfa23dcb8182eb2419b' 'e73a2a7e8f737f4d0801bd368e2e1121')

build() 
{
  mkdir -p $pkgdir/usr/{include,lib} 
  install -m644 $srcdir/{libcd*.a,libpdflib.a} $pkgdir/usr/lib/ 
  install -m755 $srcdir/{libcd*.so,libpdflib.so} $pkgdir/usr/lib/  
  install $srcdir/include/* $pkgdir/usr/include/ 
  install -D $startdir/LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE 
}
