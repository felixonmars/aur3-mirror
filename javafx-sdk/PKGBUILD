# Maintainer: Aliasbody <aliasbody@gmail.com>
pkgname=javafx-sdk
pkgver=2.2b13
pkgrel=2
pkgdesc="A lightweight, hardware-accelerated Java UI platform for enterprise business applications"
url="http://javafx.com/"
arch=("x86_64" "i686")
license=("custom: Oracle Technology Network")
depends=("java-runtime" "ffmpeg" "gtk2")

if [ $CARCH == "i686" ]; then
	source=("https://dl.dropbox.com/s/qwc0q22lk73vkir/javafx_sdk-2_2_0-beta-b13-linux-i586.zip")
	md5sums=("700683887c4c785bbcfb2fbcc8f377bc")
fi

if [ $CARCH == "x86_64" ]; then
	source=("https://dl.dropbox.com/s/6yknc6xmjsrut41/javafx_sdk-2_2_0-beta-b13-linux-x64.zip")
	md5sums=("d589de862579fbe9f352f9a286e82c15")
fi

package() {
	# Move all the files from the package into the /usr/lib/jvm/javafx-sdk folder
	mkdir -p ${pkgdir}/usr/lib/jvm/${pkgname}
	mv ${srcdir}/javafx-sdk2.2.0-beta/* ${pkgdir}/usr/lib/jvm/${pkgname}/
	
	# Make a copy of the licences into the /usr/share/licences/javafx-sdk folder
	mkdir -p ${pkgdir}/usr/share/licenses/${pkgname}
	install -D ${pkgdir}/usr/lib/jvm/$pkgname/COPYRIGHT.html ${pkgdir}/usr/share/licences/${pkgname}/COPYRIGHT.html
	install -D ${pkgdir}/usr/lib/jvm/${pkgname}/THIRDPARTYLICENSEREADME.txt ${pkgdir}/usr/share/licences/${pkgname}/THIRDPARTYLICENSEREADME.txt
	
	# Create a symlink of the javafxpackager binary and send it to the /usr/bin folder
	mkdir -p ${pkgdir}/usr/bin
	chmod +x ${pkgdir}/usr/lib/jvm/${pkgname}/bin/javafxpackager
	ln -s /usr/lib/jvm/${pkgname}/bin/javafxpackager ${pkgdir}/usr/bin/javafxpackager
}
