##Author##
#Eka Tresna Irawan/Ibnu Yahya (anak10thn@gmail.com)
#PKGBUILD
#Sofyan Saputra/Iank (meongbego@gmail.com)

pkgname=ign-sdk
pkgver=1.1.1
pkgrel=131111
pkgdesc="IGN Software Development Kit"
url="https://github.com/anak10thn/ignsdk-qt"
arch=('x86_64' 'i686')
license=('BSD')
depends=('qt5-base' 'qtwebkit' 'qjson' 'mariadb')
options=('!strip' '!emptydirs')
source=("https://github.com/anak10thn/ignsdk-qt/archive/v1.1.1.tar.gz")
md5sums=('e3de0f7d6c6996e17316ea5de38bf1fd')
_gourl=github.com/anak10thn/ignsdk-qt

  
build() {
	cd ignsdk-qt-1.1.1
	qmake
	make
}

package() {
  cd ignsdk-qt-1.1.1
  mkdir -p $pkgdir/usr/bin/
  mkdir -p $pkgdir/usr/share/ign-sdk/bin/
  mkdir -p $pkgdir/etc/
  mkdir -p $pkgdir/usr/share/man/man1
  
  install -Dm644 ignsdk $pkgdir/usr/bin/
  install -d css $pkgdir/usr/share/ign-sdk/
  install -d img $pkgdir/usr/share/ign-sdk/
  install -d js $pkgdir/usr/share/ign-sdk/
  install -Dm644 LICENSE.BSD $pkgdir/usr/share/ign-sdk/license
  cp -rf test $pkgdir/usr/share/ign-sdk/
  install -d template $pkgdir/usr/share/ign-sdk/
  install -Dm644 bin/ignsdk-app-creator $pkgdir/usr/bin/
  install -Dm644 bin/ignsdk-app-builder $pkgdir/usr/bin/

  install -Dm644 bin/ignsdk-arch-builder $pkgdir/usr/share/ign-sdk/bin/
  install -Dm644 bin/ignsdk-arch-creator $pkgdir/usr/share/ign-sdk/bin/
  chmod 755 $pkgdir/usr/share/ign-sdk/bin/
  
  install -d dist $pkgdir/etc/dist/
  
  install -Dm644 doc/ignsdk.man.1.gz $pkgdir/usr/share/man/man1/
  
  echo "arch" > $pkgdir/etc/ignsdk-dist
  
  rm -rf *.o

}
