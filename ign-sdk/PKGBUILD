##Author##
#Eka Tresna Irawan/Ibnu Yahya (anak10thn@gmail.com)
#PKGBUILD
#Sofyan Saputra/Iank (meongbego@gmail.com)

pkgname=ign-sdk
pkgver=1.1.1
pkgrel=131111
pkgdesc="IGN Software Development Kit"
url="https://github.com/anak10thn/ignsdk-qt"
arch=('x86_64' 'i686')
license=('BSD')
depends=('qt5-base' 'qtwebkit' 'qjson' 'mariadb')
#makedepends=('git' 'mariadb')
options=('!strip' '!emptydirs')
source=('ign-sdk::git://github.com/anak10thn/ignsdk-qt.git')
md5sums=('SKIP')
_gourl=github.com/anak10thn/ignsdk-qt

  
build() {
cd ign-sdk
qmake
make
}

package() {
  cd ign-sdk
  mkdir -p $pkgdir/usr/bin/
  mkdir -p $pkgdir/usr/share/ign-sdk/bin/
  mkdir -p $pkgdir/etc/
  mkdir -p $pkgdir/usr/share/man/man1
  
  mv ignsdk $pkgdir/usr/bin/
  cp -rf css $pkgdir/usr/share/ign-sdk/
  cp -rf img $pkgdir/usr/share/ign-sdk/
  cp -rf js $pkgdir/usr/share/ign-sdk/
  cp -rf LICENSE.BSD $pkgdir/usr/share/ign-sdk/
  cp -rf test $pkgdir/usr/share/ign-sdk/
  cp -rf template $pkgdir/usr/share/ign-sdk/
  cp -rf bin/ignsdk-app-creator $pkgdir/usr/bin/
  cp -rf bin/ignsdk-app-builder $pkgdir/usr/bin/
  
  cp -rf bin/ignsdk-arch-builder $pkgdir/usr/share/ign-sdk/bin/
  cp -rf bin/ignsdk-arch-creator $pkgdir/usr/share/ign-sdk/bin/
  
  chmod 755 $pkgdir/usr/share/ign-sdk/bin/
  cp -rf dist $pkgdir/etc/dist/
  
  cp -rf doc/ignsdk.man.1.gz $pkgdir/usr/share/man/man1/
  
  echo "arch" > $pkgdir/etc/ignsdk-dist
  
  mv $pkgdir/usr/share/ign-sdk/LICENSE.BSD $pkgdir/usr/share/ign-sdk/license
  
  rm -rf *.o

}
