# Maintainer: Chipster Julien <julien dot chipster @ archlinux dot fr>
pkgname=weather_daemon
url="http://www.google.fr"
pkgver=0.1
pkgrel=10
pkgdesc="Daemon that can download weather forecast on wunderground"
arch=('any')
license=('GPL')
depends=(python python-yaml)
md5sums=('ad5129e2721bb3e8a29d085b07066695')
source=($pkgname-$pkgver.tar.gz)

install=weather.install

build()
{
	echo "nothing to do"
	# nothing to do
}

package()
{
	cd "$srcdir/$pkgname-$pkgver"
	mkdir -p "$pkgdir/etc"
	mkdir -p "$pkgdir/usr/bin"
	mkdir -p "$pkgdir/usr/lib/systemd/system"
	mkdir -p "$pkgdir/var/log/weather_daemon"
	mkdir -p "$pkgdir/usr/share/fonts/truetype/weather_daemon/"
	mkdir -p "$pkgdir/usr/share/weather_daemon/icons/"

	# copy
	
	cp -a weather_daemon.py "$pkgdir/usr/bin/weather_daemon"
	cp -a weather_daemon_example.conf "$pkgdir/etc"
	cp -a systemd "$pkgdir/usr/lib/systemd/system/weather_daemon.service"
	cp -a fonts/* "$pkgdir/usr/share/fonts/truetype/weather_daemon/"
	cp -a icons/* "$pkgdir/usr/share/weather_daemon/icons/"

	# fixing right

	chmod 644 "$pkgdir/etc/weather_daemon_example.conf"
	chmod 755 "$pkgdir/var/log/weather_daemon"
	chmod 755 "$pkgdir/usr/bin/weather_daemon"
}
