pkgname=compiz-plugins-main-git
pkgver=0.9.5
pkgrel=1
pkgdesc="Latest development version of the Plugins for compiz 0.9.5"
url="http://www.compiz.org/"
license=('GPL' 'LGPL' 'MIT')
arch=('i686' 'x86_64')
provides=('compiz-plugins-main')
conflicts=('compiz-plugins-main')
depends=('compiz-core-git')
makedepends=('intltool' 'cmake')
options=(!libtool !emptydirs)

build()
{
  cd "${srcdir}"
  git clone git://git.compiz.org/compiz/plugins-main/
  cd "plugins-main"

  git submodule init
  git submodule update

  [[ -d build ]] || mkdir build
	cd build
	env PKG_CONFIG_PATH="/usr/lib/pkgconfig:$PKG_CONFIG_PATH"                            \
		cmake .. -DCOMPIZ_PLUGIN_INSTALL_TYPE="compiz" -DCMAKE_INSTALL_PREFIX=/usr   \
			-DCOMPIZ_DISABLE_PLUGIN_COLORFILTER=Off                              \
			-DCOMPIZ_DISABLE_PLUGIN_WORKAROUNDS=Off                              \
			-DCOMPIZ_DISABLE_PLUGIN_TEXT=Off                                     \
			-DCOMPIZ_DISABLE_PLUGIN_SCALEADDON=Off                               \
			-DCOMPIZ_DISABLE_PLUGIN_MOUSEPOLL=Off                                \
			-DCOMPIZ_DISABLE_PLUGIN_MAG=Off                                      \
			-DCOMPIZ_DISABLE_PLUGIN_TITLEINFO=Off                                \
			-DCOMPIZ_DISABLE_PLUGIN_SHIFT=Off                                    \
			-DCOMPIZ_DISABLE_PLUGIN_SESSION=Off                                  \
			-DCOMPIZ_DISABLE_PLUGIN_ANIMATION=Off                                \
			-DCOMPIZ_DISABLE_PLUGIN_EXPO=Off                                     \
			-DCOMPIZ_DISABLE_PLUGIN_SNAP=Off                                     \
			-DCOMPIZ_DISABLE_PLUGIN_RING=Off                                     \
			-DCOMPIZ_DISABLE_PLUGIN_PUT=Off                                      \
			-DCOMPIZ_DISABLE_PLUGIN_WALL=Off                                     \
			-DCOMPIZ_DISABLE_PLUGIN_IMGJPEG=Off                                  \
			-DCOMPIZ_DISABLE_PLUGIN_STATICSWITCHER=Off                           \
			-DCOMPIZ_DISABLE_PLUGIN_VPSWITCH=Off                                 \
			-DCOMPIZ_DISABLE_PLUGIN_RESIZEINFO=Off                               \
			-DCOMPIZ_DISABLE_PLUGIN_WINRULES=Off                                 \
			-DCOMPIZ_DISABLE_PLUGIN_OPACITY=Off                                  \
			-DCOMPIZ_DISABLE_PLUGIN_KDECOMPAT=Off                                \
			-DCOMPIZ_DISABLE_PLUGIN_NEG=Off                                      \
			-DCOMPIZ_DISABLE_PLUGIN_THUMBNAIL=Off                                \
			-DCOMPIZ_DISABLE_PLUGIN_EZOOM=Off
	make
	make DESTDIR="${pkgdir}" install
}

