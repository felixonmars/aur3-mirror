# Maintainer: Dmitry Korzhevin <dkorzhevin@lsupport.net>
# Contributor: 4javier <4javier4@gmail.com>
# Contributor: G_Syme <demichan(at)mail(dot)upb(dot)de>
# Contributor: cameel <cameel2/gmail/com>
pkgname=rednotebook
pkgver=1.1.7
pkgrel=1
pkgdesc="A simple desktop diary"
arch=('i686' 'x86_64')
url="http://rednotebook.sourceforge.net"
license=('GPL2')
depends=('pygtk' 'python2-yaml' 'pywebkitgtk')
optdepends=('pywebkitgtk:use webkit for preview and PDF export' 'python-chardet:better recognition of file encoding')
source=(http://downloads.sourceforge.net/project/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('6bb824cb90a8c3160dd1c44025ad932d')

build() {
  cd "$srcdir"/$pkgname-$pkgver
  python2 setup.py install --root="$pkgdir" --prefix=/usr || return 1

  for _res in 16 22 32 64 128; do
    install -D -m644 build/lib/rednotebook/images/rednotebook-icon/rn-$_res.png \
        "$pkgdir"/usr/share/icons/hicolor/${_res}x${_res}/apps/$pkgname.png
  done
}
