# generated by the gambas3 ide
# Maintainer : Luca D'Isanto <lukadisanto@gmail.com>

pkgname=openvpn-qt-arch
_realname=openvpn-qt-arch
pkgdesc="OpenVPN Connection Manager"
pkgver=2.0.2
pkgrel=1
arch=('any')
url="https://sourceforge.net/projects/openvpn-qt/"
changelog=ChangeLog
license=('custom')
depends=('gambas3-gb-image>=3.5' 'gambas3-gb-image<=3.99.0' 'gambas3-gb-qt4>=3.5' 'gambas3-gb-qt4<=3.99.0' 'gambas3-gb-form>=3.5' 'gambas3-gb-form<=3.99.0' 'gambas3-gb-desktop>=3.5' 'gambas3-gb-desktop<=3.99.0' 'gambas3-gb-qt4-ext>=3.5' 'gambas3-gb-qt4-ext<=3.99.0' 'sudo' 'openvpn' 'xterm' 'gambas3-ide' 'gambas3-runtime')
makedepend=('gambas3-devel')
source=(${_realname}-$pkgver.tar.bz2 license.txt\
        'openvpn-qt-arch.desktop' 'openvpn-qt-arch.png')
md5sums=('1e2218fc4253f34edf7b75fbb8f66e3b'
         '35403466a659acad9657584fb79a6020'
         '11281dda3ce1ad0bdad651faac565fca'
         '0610e7552d184f7675fc5ec6f6277492')

build() {
  cd ${srcdir}/${_realname}

  /usr/bin/gbc3 -e -a -g -p -m -x  && gba3
}

package() {
  cd ${srcdir}/${_realname}

  install -d ${pkgdir}/usr/bin
  install -m755 openvpn-qt-arch.gambas ${pkgdir}/usr/bin/openvpn-qt-arch
  install -D ../openvpn-qt-arch.png \
    ${pkgdir}/usr/share/pixmaps/openvpn-qt-arch.png
  install -D ../openvpn-qt-arch.desktop \
    ${pkgdir}/usr/share/applications/openvpn-qt-arch.desktop
  install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/openvpn-qt-arch/license.txt
}
