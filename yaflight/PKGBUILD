# Maintainer: xquiet <matteo@xquiet.eu>
pkgname=yaflight
pkgver=0.99.8
pkgrel=1
pkgdesc="yet another flightgear launch control"
arch=('i686'
      'x86_64')
url="http://yaflight.altervista.org"
license=('GPL3')
groups=(Games)
depends=('flightgear'
         'qtwebkit')
makedepends=('qt>=4.8.3'
             'qtwebkit')
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.bz2::https://bitbucket.org/_pmat_/yaflight/downloads/$pkgname-$pkgver.tar.bz2 
	'yaflight.desktop')
noextract=()
md5sums=('49135b12350f8bd6a5dc01a6f828d77d'
         '9a5fff77c37cc2b6d26e40be00d185db') #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname-$pkgver"
  qmake QMAKE_CXXFLAGS="-Dunix"
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  install -m 755 -D $pkgname "$pkgdir/usr/bin/$pkgname"
  install -m 755 -D icons/$pkgname-icon-48.png "$pkgdir/usr/share/icons/$pkgname.png"
  mkdir -p $pkgdir/usr/share/applications
  cp $srcdir/yaflight.desktop $pkgdir/usr/share/applications/
}
