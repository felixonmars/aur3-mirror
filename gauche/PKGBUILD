# Contributor: nkoizu <nkoizu@gmail.com>
# Contributor: Motohiro Ueki <ueki.com@gmail.com>
# Maintainer: Stefan Husmann <stefan-husmann@t-online.de>

pkgname=gauche
pkgver=0.9.2
pkgrel=2
url="http://practical-scheme.net/gauche/index.html"
pkgdesc="R5RS Scheme implementation developed to be a handy script interpreter"
depends=('gcc-libs' 'gdbm' 'zlib' 'slib')
license=('BSD')
arch=('i686' 'x86_64')
source=(http://downloads.sourceforge.net/gauche/Gauche-$pkgver.tgz makefile_slib.diff)
md5sums=('9979de5be0e35e57131508c4c606f5cb'
         '1ddf7c6dbfc61780bf5118e80d45cb1d')
install=$pkgname.install

build() {
  cd $srcdir/Gauche-$pkgver
  ./configure --prefix=/usr --enable-multibyte=utf-8 \
  	--enable-threads=pthreads
  patch lib/Makefile $srcdir/makefile_slib.diff
  make
}
package() {
  cd $srcdir/Gauche-$pkgver
  make DESTDIR=$pkgdir install
  install -D -m644 COPYING $pkgdir/usr/share/licenses/$pkgname/COPYING
}
