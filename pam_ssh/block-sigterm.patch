diff -up pam_ssh.c.orig-sigmask pam_ssh.c
--- pam_ssh.c.orig-sigmask	2011-10-30 16:38:41.365415881 +0100
+++ pam_ssh.c	2011-10-30 16:39:09.396068291 +0100
@@ -554,6 +554,7 @@ pam_sm_open_session(pam_handle_t *pamh,
         time_t file_ctime;              /* creation time of per-agent file */
         time_t time_now;                /* current time */
         time_t time_up;                 /* uptime */
+	sigset_t sigmask;		/* blocked signal mask */
 
         memset(&options, 0, sizeof options);
         pam_std_option(&options, other_options, argc, argv);
@@ -708,6 +709,10 @@ pam_sm_open_session(pam_handle_t *pamh,
 					_exit(EX_OSERR);
 				}
 			}
+
+			sigemptyset(&sigmask);
+			sigprocmask(SIG_SETMASK, &sigmask, NULL);
+
 			arg[0] = "ssh-agent";
 			arg[1] = "-s";
 			arg[2] = NULL;
