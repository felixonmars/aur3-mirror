# Maintainer: Can Celasun <dcelasun[at]gmail[dot]com>
pkgname=fortrancl-svn
pkgver=181
pkgrel=2
pkgdesc='An OpenCL interface for Fortran 90 (latest svn revision)'

arch=('i686' 'x86_64')
url='http://code.google.com/p/fortrancl'
license=('LGPL')
provides=('fortrancl')
depends=('opencl-headers')
makedepends=('make' 'subversion')
source=('Makefile.am')
_svntrunk=http://fortrancl.googlecode.com/svn/trunk 
_svnmod=fortrancl

build() {
	if [ -d $_svnmod/.svn ]; then
		(cd $_svnmod && svn up -r $pkgver)
	else
		svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod
	fi

	cp Makefile.am $srcdir/$_svnmod/src/
	cd $srcdir/$_svnmod
	
	aclocal
	libtoolize
	autoheader
	automake --add-missing
	autoreconf 
	./configure 
	#./configure  --prefix=/usr #FC=ifort FCFLAGS="-O3"
	make || return 1
	make DESTDIR="$pkgdir" install || return 1
}
md5sums=('6c3a7e87689ea18c43b0fc6ca8d294ac')
