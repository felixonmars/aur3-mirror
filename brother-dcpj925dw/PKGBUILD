# Contributor: Rene Rasmussen <madeye@paranoidix.dk>
#              PKGBUILD adapted from DCP9010cn by Pavel Benak
pkgname=brother-dcpj925dw
pkgver=3.0.0
pkgrel=1
pkgdesc="Brother cups and lpd driver for DCP-J925DW"
arch=('i686' 'x86_64')
url="http://solutions.brother.com/linux/en_us/index.html"
license=('GPL2' 'custom:Brother Industries')

if [ "$(uname -m)" = "x86_64" ]
then
 depends=('cups' 'lib32-glibc' 'psutils')
else
 depends=('cups' 'psutils')
fi

install=brother-dcpj925dw.install
source=("http://www.brother.com/pub/bsc/linux/dlf/dcpj925dwcupswrapper-$pkgver-$pkgrel.i386.deb" 
	"http://www.brother.com/pub/bsc/linux/dlf/dcpj925dwlpr-$pkgver-$pkgrel.i386.deb" 
)

md5sums=('ff4ebdc5bf00ebc6af9da3dff185afcc'
	 '4cd1164f8d6fad17ebc47dac71ce6955'
)

build()
{
 mkdir -p $startdir/src/unpack || return 1
 for i in $startdir/src/*.deb
 do
  cd $startdir/src/unpack
  ar -x $i || return 1
  cd $startdir/pkg
  bsdtar xf $startdir/src/unpack/data.tar.gz || return 1
 done

 cd $startdir/pkg
 
 install -d -m755 $startdir/pkg/usr/share/cups/model || return 1
 install -d -m755 $startdir/pkg/usr/lib/cups/filter || return 1
}


