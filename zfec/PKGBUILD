# Contributor: Peter Simons <simons@cryp.to>
# Contributor: Nicolas Pouillard <nicolas.pouillard@gmail.com>
pkgname=zfec
pkgver=1.4.22
pkgrel=1
pkgdesc="a fast erasure codec which can be used with the command-line, C, Python, or Haskell"
arch=('i686' 'x86_64')
url='http://allmydata.org/trac/zfec'
license=('GPL')
depends=('python2' 'pyutil' 'python2-argparse' 'zbase32')
makedepends=('darcsver' 'setuptools_darcs')
source=( http://pypi.python.org/packages/source/z/zfec/zfec-$pkgver.tar.gz )
md5sums=('105745eb9d3db8f909786a0b39153a79')

build(){
  cd "$srcdir/$pkgname-$pkgver" || return 1
  python2 setup.py build || return 1
  python2 setup.py test || return 1
}

package(){
  cd "$srcdir/$pkgname-$pkgver" || return 1
  python2 setup.py install --root="$pkgdir" || return 1
}
