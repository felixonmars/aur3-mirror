# Maintainer: Gordin <9ordin @t gmail dot com>
# Contributor: Tomas Hetmer <tomas at hetmer dot net>

pkgname=qtadb
pkgver=0.8.0
pkgrel=3
pkgdesc="GUI for Android SDK/ADB, Android phone manager"
arch=('i686' 'x86_64')
url="http://qtadb.wordpress.com/"
license=('custom:"Proprietary"')
install=${pkgname}.install
depends=('qt' 'android-sdk-platform-tools')

[ "$CARCH" = 'x86_64' ] && _architecture=('64')
[ "$CARCH" = 'i686' ] && _architecture=('32')

_srcdir="${srcdir}/QtADB_${pkgver}_linux${_architecture}"

[ "$CARCH" = 'x86_64' ] && source=("QtADB_0.8.0_linux64.tar.gz::http://content.wuala.com/contents/OldShatterhand/ArchLinux%20AUR/QtADB/QtADB_0.8.0_linux64.tar.gz/?dl=1"
        "qtadb.desktop" "qtadb.png") # Official website does not provide easily downloadable tgz/zip; mirror
[ "$CARCH" = 'i686' ] && source=("QtADB_0.8.0_linux32.tar.gz::http://content.wuala.com/contents/OldShatterhand/ArchLinux%20AUR/QtADB/QtADB_0.8.0_linux32.tar.gz/?dl=1"
        "qtadb.desktop" "qtadb.png") # Official website does not provide easily downloadable tgz/zip; mirror

[ "$CARCH" = 'x86_64' ] &&md5sums=('8fc625e31c83ebae7b7bf4d6da92a7a7' '66dfb4e467c156b99acf2c4711134cb7' 'e27b5da6b0b6ad185201ea073857da28')
[ "$CARCH" = 'i686' ] && md5sums=('8caea7c6c59ba67396cd4bb44556c083' '66dfb4e467c156b99acf2c4711134cb7' 'e27b5da6b0b6ad185201ea073857da28')
         
build() {
  chmod +x $_srcdir/QtADB
  install -Dm644 $startdir/qtadb.png "$pkgdir/usr/share/pixmaps/$pkgname.png"
  install -Dm644 $startdir/qtadb.desktop "$pkgdir/usr/share/applications/$pkgname.desktop"
  install -Dm755 $_srcdir/QtADB "$pkgdir/usr/bin/QtADB"
}
