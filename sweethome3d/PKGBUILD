# Maintainer:  Daniel YC Lin <dlin.tw at gmail>
# Contributor : Tdy  <tdy@gmx.com>, Biginoz <biginoz at free.fr>
pkgname=sweethome3d
pkgver=3.5
pkgrel=6
pkgdesc="An interior design application"
arch=('i686' 'x86_64')
_arch=x64
url="http://www.sweethome3d.eu/"
license=('GPL')
depends=('java-environment' 'libgl')
[[ $CARCH = i686 ]] && optdepends=('java3d: for 3d modeling') && _arch=x86
source=(http://downloads.sourceforge.net/$pkgname/SweetHome3D-$pkgver-linux-$_arch.tgz
        $pkgname.desktop $pkgname.png sweethome3d)

[[ $CARCH = x86_64 ]] && md5sums[0]='c2e36e365de6b6896213808fc2ed9c46'
package() {
  cd "$srcdir"
  install -d SweetHome3D-$pkgver  "$pkgdir/usr/share/java/$pkgname"
  cd SweetHome3D-$pkgver
  cp -r * "$pkgdir/usr/share/java/$pkgname"
  install -Dm644 ../$pkgname.png "$pkgdir/usr/share/pixmaps/$pkgname.png"
  install -Dm644 ../$pkgname.desktop \
    "$pkgdir/usr/share/applications/$pkgname.desktop"
  install -Dm755 ../sweethome3d "$pkgdir/usr/bin/sweethome3d"

# remove useless old version java
  rm -rf $pkgdir/usr/share/java/sweethome3d/jre1.6.0_32
}
md5sums=('c2e36e365de6b6896213808fc2ed9c46'
         '5d5f1b5d390b71d545e09b3afc66ac38'
         '4fa1604285c1d8c474e3a914b6a4e6ce'
         '1de0b3afedec48ba2fe2b7039cc7e480')
